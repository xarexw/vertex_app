{% extends 'base.html' %}

{% block content %}
<article>
    <header>
        <strong>üî¥ Live Mode: {{ session.title }}</strong>
        <span style="float: right;">{{ session.start_time|date:"H:i" }}</span>
    </header>

    <div class="grid">
        <form hx-post="{% url 'add_record' session.id %}" hx-target="#records-body" hx-swap="innerHTML">
            {% csrf_token %}
            
            <label>–ê—Ç–ª–µ—Ç
                <select name="client_id" required>
                    <option value="" disabled selected>–û–±–µ—Ä—ñ—Ç—å –∑—ñ —Å–ø–∏—Å–∫—É...</option>
                    {% for client in clients %}
                    <option value="{{ client.id }}">{{ client.first_name }} {{ client.last_name }} ({{ client.username }})</option>
                    {% endfor %}
                </select>
            </label>

            <div class="grid">
                <input type="text" name="exercise" placeholder="–í–ø—Ä–∞–≤–∞ (–Ω–∞–ø. –ñ–∏–º –ª–µ–∂–∞—á–∏)" required>
                <input type="number" name="rpe" placeholder="RPE (1-10)" min="1" max="10">
                <input type="text" name="result" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç (–Ω–∞–ø. 100–∫–≥ —Ö 8)" required>
            </div>

            <button type="submit" class="contrast">üíæ –ó–∞–ø–∏—Å–∞—Ç–∏</button>
        </form>
    </div>

    <hr>

    <table role="grid">
        <thead>
            <tr>
                <th>–ß–∞—Å</th>
                <th>–ê—Ç–ª–µ—Ç</th>
                <th>–í–ø—Ä–∞–≤–∞</th>
                <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
            </tr>
        </thead>
        <tbody id="records-body">
            {% include 'core/partials/records_table.html' %}
        </tbody>
    </table>

    <br><br>
    <div style="text-align: right;">
        <a href="{% url 'session_summary' session.id %}" role="button" style="background-color: #ef4444; border-color: #ef4444;">
            üèÅ –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è
        </a>
    </div>

</article>
{% endblock %}